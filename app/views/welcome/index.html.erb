<h3>Summary</h3>
<p><strong>Fitbitclient.com</strong> is a reference application that explains how to use the 
	<a href="http://rubygems.org/gems/fitgem">fitgem rubygem</a>
	in a <a href="http://rubyonrails.org">Ruby on Rails</a> application to access health data from <a href="http://www.fitbit.com">fitbit.com</a>.</p>

<h3>Getting Started</h3>
<p>To play around with the fitgem library you'll need the <a href="http://rubygems.org/gems/fitgem">gem itself</a>:</p>
<pre>
<span>$ gem install fitgem</span>
</pre>
<p>You can also grab the source by cloning <a href="https://github.com/whazzmaster/fitgem">the fitgem github repo</a>.</p>
<pre>
<span>$ git clone git@github.com:whazzmaster/fitgem.git</span>
</pre>

<h3>Examples</h3>
<p>Browse through the examples to see code on how to use the fitgem library to get/set data through the Fitbit API.  <strong>Optionally</strong>, you may also create an account on this site and connect it to your Fitbit account so that on the example pages you can see the actual data coming through from the API (if applicable).
</p>

<h3>Current Status</h3>
<p>
	<% if user_signed_in? %>
		You are logged in
		<% if current_user.fitbit_account.verified? %>
			and your <%= link_to 'test account', fitbit_info_path %> is linked with your Fitbit account.
			
			<div id="fitbit-user-info-container">
        <div id="fitbit-user-info">
        	<div class="line-title">User Information from Fitbit.com</div>
        	<div class="line-item">
        		<div class="label">User Id:</div> 
        		<div class="value"><%= @info['encodedId'] %></div>
        	</div>
        	<div class="line-item">
        		<div class="label">Display Name:</div> 
        		<div class="value"><%= @info['displayName'] %></div>
        	</div>
        	<div class="line-item">
        		<div class="label">City:</div> 
        		<div class="value"><%= @info['city'] %></div>
        	</div>
        	<div class="line-item">
        		<div class="label">State:</div> 
        		<div class="value"><%= @info['state'] %></div>
        	</div>
        	<div class="line-item">
        		<div class="label">Gender:</div> 
        		<div class="value"><%= @info['gender'] %></div>
        	</div>
        	<div class="line-item">
        		<div class="label">Date of Birth:</div> 
        		<div class="value"><%= @info['dateOfBirth'] %></div>
        	</div>
        </div>
      </div>

			<%= button_to "Disconnect your Fitbit Account", url_for(:controller => :fitgem_oauth, :action => :disconnect)%>

			
			<div style="clear:both">&nbsp;</div>
		<% else %>
			but you are <strong>not yet</strong> linked with a Fitbit account.
			<%= link_to "Click here to connect with your Fitbit account.", url_for(:controller => :fitgem_oauth, :action => :index)%>
		<% end %>
	<% else %>
		You are not logged in. <%= link_to 'Sign in', new_user_session_path %> or <%= link_to 'Register', new_user_registration_path %>
	<% end %>
</p>